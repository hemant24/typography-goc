<html>
<head>
<script src = 'http://cdnjs.cloudflare.com/ajax/libs/fabric.js/1.4.0/fabric.min.js'></script>
<script src = 'three.js'></script>
<script src = 'camera_web.js'></script>
</head>

<body>
<h1> heel </h1>
<canvas id="cc" width="500" height="500"
	style="border:1px solid #000000;">
</canvas>
</body>
<script>

var canvas = new fabric.Canvas('cc');
var camera = new Camera(canvas.getContext('2d'));
var text1 = new fabric.Text(
"Hemant",
{
  left: 100,
  top: 100,
    fontFamily: 'Impact',
 fill   : 'rgb(0,200,0)',
   fontSize: 80
});
var text2 = new fabric.Text(
"Sachdeva",
{
  left: 700,
  top: 80,
   fontFamily: 'Impact',
fill : '#c3bfbf',
   fontSize: 80

});

var text3 = new fabric.Text(
"Sandip",
{
  left: 80,
  top: 880,
   fontFamily: 'Impact',
	fill   : 'red',
   fontSize: 130

});

var text4 = new fabric.Text(
"Danger",
{
  left: 1700,
  top: 0,
   fontFamily: 'Impact',
	fill   : 'red',
   fontSize: 130,
   onChange: output,

});

canvas.add(text1)
canvas.add(text2)
canvas.add(text3)
canvas.add(text4)
text4.animate('angle', 90, {duration: 2000,
  onChange: output,
  easing: fabric.util.ease.easeOutBounce})

text2.animate('left', 80, {duration: 2000,
  onChange: output,
  easing: fabric.util.ease.easeOutBounce,
  onComplete : function(){
  console.log('comple')
	text3.animate('top', 140 , {duration : 200, onChange: output})
  }})
  
text1.animate('angle', 90, {
 duration: 500,
  onChange: output
});

var i = 0
function output(){
camera.begin();
	camera.moveTo(1700,80);
	 canvas.renderAll()
	//var stream = canvas.createPNGStream()
	//var  out = fs.createWriteStream(__dirname + '/frame-' + i +'.png');
	 camera.end();
	 
	
	i++;
	console.log('hello')
	//console.log(rect)
	//stream.pipe(out);
}
// "add" rectangle onto canvas


</script>
</html>